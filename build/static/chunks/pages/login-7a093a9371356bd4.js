(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{545:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(4595)}])},3456:function(e,r){"use strict";r.Z={src:"/_next/static/media/login.53b60c12.svg",height:459,width:496}},7190:function(e,r,n){"use strict";var t=n(4941).Z;Object.defineProperty(r,"__esModule",{value:!0}),r.useIntersection=function(e){var r=e.rootRef,n=e.rootMargin,l=e.disabled||!i,u=s.useRef(),d=t(s.useState(!1),2),m=d[0],f=d[1],p=t(s.useState(null),2),b=p[0],v=p[1];s.useEffect((function(){if(i){if(u.current&&(u.current(),u.current=void 0),l||m)return;return b&&b.tagName&&(u.current=function(e,r,n){var t=function(e){var r,n={root:e.root||null,margin:e.rootMargin||""},t=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));if(t&&(r=o.get(t)))return r;var s=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var r=s.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;r&&n&&r(n)}))}),e);return r={id:n,observer:a,elements:s},c.push(n),o.set(n,r),r}(n),s=t.id,a=t.observer,i=t.elements;return i.set(e,r),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),o.delete(s);var r=c.findIndex((function(e){return e.root===s.root&&e.margin===s.margin}));r>-1&&c.splice(r,1)}}}(b,(function(e){return e&&f(e)}),{root:null==r?void 0:r.current,rootMargin:n})),function(){null==u.current||u.current(),u.current=void 0}}if(!m){var e=a.requestIdleCallback((function(){return f(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[b,l,n,r,m]);var h=s.useCallback((function(){f(!1)}),[]);return[v,m,h]};var s=n(7294),a=n(9311),i="function"===typeof IntersectionObserver;var o=new Map,c=[];("function"===typeof r.default||"object"===typeof r.default&&null!==r.default)&&"undefined"===typeof r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},4595:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return h}});var t=n(7568),s=n(4051),a=n.n(s),i=n(5893),o=(n(7294),n(2915)),c=n(5675),l=n.n(c),u=n(1664),d=n.n(u),m=n(3456),f=n(2175),p=n(4231),b=n(9868),v=n(5734);function h(){var e=(0,b.Z)({redirectTo:"/portal",redirectIfFound:!0}).mutateUser,r=p.Ry({email:p.Z_().email("Invalid email address").required("Email is required"),password:p.Z_().required("Password is required")}),n=function(){var r=(0,t.Z)(a().mark((function r(n,t){var s;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,v.Z)("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if("failed"!=(s=r.sent).status||!("code"in s)){r.next=12;break}r.t0=s.code,r.next="invalidUser"===r.t0?8:"invalidPass"===r.t0?10:12;break;case 8:return n("email","A user with that email does not exist."),r.abrupt("break",12);case 10:return n("password","Incorrect password"),r.abrupt("break",12);case 12:e(s),r.next=18;break;case 15:r.prev=15,r.t1=r.catch(0),console.error("FATAL ERROR\n"+r.t1);case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e,n){return r.apply(this,arguments)}}();return(0,i.jsx)(o.Z,{pageTitle:"RuDASA | Login",hide:"true",children:(0,i.jsxs)("section",{className:"container",children:[(0,i.jsx)("div",{className:"py-5 mb-5"}),(0,i.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-5 pb-5",children:[(0,i.jsx)("div",{className:"d-none d-lg-block col-lg-5 col-xl-5",children:(0,i.jsx)(l(),{src:m.Z,width:600,height:600,alt:""})}),(0,i.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-5 col-xl-5 px-4 d-flex flex-column align-items-center ms--lg-5",children:[(0,i.jsx)("h1",{className:"fw-bold w-100 mb-5 text-center text-primary",children:"Login"}),(0,i.jsx)(f.J9,{initialValues:{email:"ronald@gmail.com",password:"Password1!"},validationSchema:r,onSubmit:function(){var e=(0,t.Z)(a().mark((function e(r,t){var s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.setFieldError,i=t.setSubmitting,e.next=3,n(s,r);case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.touched,n=e.errors,t=e.isSubmitting;return(0,i.jsxs)(f.l0,{className:"mt-3 w-100 ms-lg-5",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"email",className:"text-primary fw-bold form-label ms-2",children:"Email Address"}),(0,i.jsx)(f.gN,{type:"email",name:"email",placeholder:"Email",className:"form-control border-0 border-bottom ".concat(r.email&&n.email?"is-invalid":"")}),(0,i.jsx)(f.Bc,{component:"div",name:"email",className:"invalid-feedback"})]}),(0,i.jsxs)("div",{className:"form-group mt-5",children:[(0,i.jsx)("label",{htmlFor:"password",className:"text-primary fw-bold form-label ms-2",children:"Password"}),(0,i.jsx)(f.gN,{type:"password",name:"password",placeholder:"Password",className:"form-control border-0 border-bottom ".concat(r.password&&n.password?"is-invalid":"")}),(0,i.jsx)(f.Bc,{component:"div",name:"password",className:"invalid-feedback"})]})]}),(0,i.jsxs)("div",{className:"my-4 w-100 d-flex flex-column flex-sm-row justify-content-end align-items-end align-items-sm-center",children:[(0,i.jsxs)("small",{className:"me-sm-3 mb-4 mb-sm-0",children:["Don't have an account? ",(0,i.jsx)(d(),{href:"/signUp",children:"Sign up"})]}),(0,i.jsx)("div",{className:"hover-button",children:(0,i.jsx)("button",{type:"submit",className:"btn btn-secondary btn-lg",disabled:t,children:t?"Please wait...":"Login"})})]})]})}})]})]})]})})}}},function(e){e.O(0,[976,948,937,675,526,915,774,888,179],(function(){return r=545,e(e.s=r);var r}));var r=e.O();_N_E=r}]);